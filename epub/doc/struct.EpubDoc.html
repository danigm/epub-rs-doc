<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `EpubDoc` struct in crate `epub`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, EpubDoc">

    <title>epub::doc::EpubDoc - Rust</title>

    <link rel="stylesheet" type="text/css" href="../../normalize.css">
    <link rel="stylesheet" type="text/css" href="../../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../../main.css">
    

    
    
</head>
<body class="rustdoc struct">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'>Struct EpubDoc</p><div class="block items"><ul><li><a href="#fields">Fields</a></li><li><a href="#methods">Methods</a></li></ul></div><p class='location'><a href='../index.html'>epub</a>::<wbr><a href='index.html'>doc</a></p><script>window.sidebarCurrent = {name: 'EpubDoc', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content">
<h1 class='fqn'><span class='in-band'>Struct <a href='../index.html'>epub</a>::<wbr><a href='index.html'>doc</a>::<wbr><a class="struct" href=''>EpubDoc</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../../src/epub/doc.rs.html#36-70' title='goto source code'>[src]</a></span></h1>
<pre class='rust struct'>pub struct EpubDoc {
    pub spine: <a class="struct" href="https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html" title="struct collections::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a>&gt;,
    pub resources: <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;,
    pub metadata: <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a>&gt;,
    pub root_base: <a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a>,
    pub root_file: <a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a>,
    pub extra_css: <a class="struct" href="https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html" title="struct collections::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a>&gt;,
    // some fields omitted
}</pre><div class='docblock'><p>Struct to control the epub document</p>
</div><h2 id='fields' class='fields'>Fields</h2><span id='structfield.spine' class="structfield">
                           <span id='spine.v' class='invisible'>
                           <code>spine: <a class="struct" href="https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html" title="struct collections::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a>&gt;</code>
                           </span></span><div class='docblock'><p>epub spine ids</p>
</div><span id='structfield.resources' class="structfield">
                           <span id='resources.v' class='invisible'>
                           <code>resources: <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;</code>
                           </span></span><div class='docblock'><p>resource id -&gt; (path, mime)</p>
</div><span id='structfield.metadata' class="structfield">
                           <span id='metadata.v' class='invisible'>
                           <code>metadata: <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a>&gt;</code>
                           </span></span><div class='docblock'><p>The epub metadata stored as key -&gt; value</p>

<h1 id='examples' class='section-header'><a href='#examples'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">title</span> <span class="op">=</span> <span class="ident">doc</span>.<span class="ident">metadata</span>.<span class="ident">get</span>(<span class="string">&quot;title&quot;</span>);
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">title</span>.<span class="ident">unwrap</span>(), <span class="string">&quot;Todo es mío&quot;</span>);</pre>
</div><span id='structfield.root_base' class="structfield">
                           <span id='root_base.v' class='invisible'>
                           <code>root_base: <a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a></code>
                           </span></span><div class='docblock'><p>root file base path</p>
</div><span id='structfield.root_file' class="structfield">
                           <span id='root_file.v' class='invisible'>
                           <code>root_file: <a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a></code>
                           </span></span><div class='docblock'><p>root file full path</p>
</div><span id='structfield.extra_css' class="structfield">
                           <span id='extra_css.v' class='invisible'>
                           <code>extra_css: <a class="struct" href="https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html" title="struct collections::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a>&gt;</code>
                           </span></span><div class='docblock'><p>Custom css list to inject in every xhtml file</p>
</div><h2 id='methods'>Methods</h2><h3 class='impl'><span class='in-band'><code>impl <a class="struct" href="../../epub/doc/struct.EpubDoc.html" title="struct epub::doc::EpubDoc">EpubDoc</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/epub/doc.rs.html#72-557' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.new' class="method"><span id='new.v' class='invisible'><code>fn <a href='#method.new' class='fnname'>new</a>(path: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../epub/doc/struct.EpubDoc.html" title="struct epub::doc::EpubDoc">EpubDoc</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="trait" href="https://doc.rust-lang.org/nightly/std/error/trait.Error.html" title="trait std::error::Error">Error</a>&gt;&gt;</code></span></h4>
<div class='docblock'><p>Opens the epub file in <code>path</code>.</p>

<p>Initialize some internal variables to be able to access to the epub
spine definition and to navigate trhough the epub.</p>

<h1 id='examples-1' class='section-header'><a href='#examples-1'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">epub</span>::<span class="ident">doc</span>::<span class="ident">EpubDoc</span>;

<span class="kw">let</span> <span class="ident">doc</span> <span class="op">=</span> <span class="ident">EpubDoc</span>::<span class="ident">new</span>(<span class="string">&quot;test.epub&quot;</span>);
<span class="macro">assert</span><span class="macro">!</span>(<span class="ident">doc</span>.<span class="ident">is_ok</span>());</pre>

<h1 id='errors' class='section-header'><a href='#errors'>Errors</a></h1>
<p>Returns an error if the epub is broken or if the file doesn&#39;t
exists.</p>
</div><h4 id='method.get_cover_id' class="method"><span id='get_cover_id.v' class='invisible'><code>fn <a href='#method.get_cover_id' class='fnname'>get_cover_id</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="trait" href="https://doc.rust-lang.org/nightly/std/error/trait.Error.html" title="trait std::error::Error">Error</a>&gt;&gt;</code></span></h4>
<div class='docblock'><p>Returns the id of the epub cover.</p>

<p>The cover is searched in the doc metadata, by the tag <meta name="cover" value".."></p>

<h1 id='examples-2' class='section-header'><a href='#examples-2'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">epub</span>::<span class="ident">doc</span>::<span class="ident">EpubDoc</span>;

<span class="kw">let</span> <span class="ident">doc</span> <span class="op">=</span> <span class="ident">EpubDoc</span>::<span class="ident">new</span>(<span class="string">&quot;test.epub&quot;</span>);
<span class="macro">assert</span><span class="macro">!</span>(<span class="ident">doc</span>.<span class="ident">is_ok</span>());
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">doc</span> <span class="op">=</span> <span class="ident">doc</span>.<span class="ident">unwrap</span>();

<span class="kw">let</span> <span class="ident">cover_id</span> <span class="op">=</span> <span class="ident">doc</span>.<span class="ident">get_cover_id</span>().<span class="ident">unwrap</span>();</pre>

<h1 id='errors-1' class='section-header'><a href='#errors-1'>Errors</a></h1>
<p>Returns an error if the cover path can&#39;t be found.</p>
</div><h4 id='method.get_cover' class="method"><span id='get_cover.v' class='invisible'><code>fn <a href='#method.get_cover' class='fnname'>get_cover</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html" title="struct collections::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="trait" href="https://doc.rust-lang.org/nightly/std/error/trait.Error.html" title="trait std::error::Error">Error</a>&gt;&gt;</code></span></h4>
<div class='docblock'><p>Returns the cover as Vec<u8></p>

<h1 id='examples-3' class='section-header'><a href='#examples-3'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">fs</span>;
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">io</span>::<span class="ident">Write</span>;
<span class="kw">use</span> <span class="ident">epub</span>::<span class="ident">doc</span>::<span class="ident">EpubDoc</span>;

<span class="kw">let</span> <span class="ident">doc</span> <span class="op">=</span> <span class="ident">EpubDoc</span>::<span class="ident">new</span>(<span class="string">&quot;test.epub&quot;</span>);
<span class="macro">assert</span><span class="macro">!</span>(<span class="ident">doc</span>.<span class="ident">is_ok</span>());
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">doc</span> <span class="op">=</span> <span class="ident">doc</span>.<span class="ident">unwrap</span>();

<span class="kw">let</span> <span class="ident">cover_data</span> <span class="op">=</span> <span class="ident">doc</span>.<span class="ident">get_cover</span>().<span class="ident">unwrap</span>();

<span class="kw">let</span> <span class="ident">f</span> <span class="op">=</span> <span class="ident">fs</span>::<span class="ident">File</span>::<span class="ident">create</span>(<span class="string">&quot;/tmp/cover.png&quot;</span>);
<span class="macro">assert</span><span class="macro">!</span>(<span class="ident">f</span>.<span class="ident">is_ok</span>());
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">f</span> <span class="op">=</span> <span class="ident">f</span>.<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="ident">resp</span> <span class="op">=</span> <span class="ident">f</span>.<span class="ident">write_all</span>(<span class="kw-2">&amp;</span><span class="ident">cover_data</span>);</pre>

<h1 id='errors-2' class='section-header'><a href='#errors-2'>Errors</a></h1>
<p>Returns an error if the cover can&#39;t be found.</p>
</div><h4 id='method.get_resource_by_path' class="method"><span id='get_resource_by_path.v' class='invisible'><code>fn <a href='#method.get_resource_by_path' class='fnname'>get_resource_by_path</a>(&amp;mut self, path: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html" title="struct collections::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="trait" href="https://doc.rust-lang.org/nightly/std/error/trait.Error.html" title="trait std::error::Error">Error</a>&gt;&gt;</code></span></h4>
<div class='docblock'><p>Returns the resource content by full path in the epub archive</p>

<h1 id='errors-3' class='section-header'><a href='#errors-3'>Errors</a></h1>
<p>Returns an error if the path doesn&#39;t exists in the epub</p>
</div><h4 id='method.get_resource' class="method"><span id='get_resource.v' class='invisible'><code>fn <a href='#method.get_resource' class='fnname'>get_resource</a>(&amp;mut self, id: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html" title="struct collections::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="trait" href="https://doc.rust-lang.org/nightly/std/error/trait.Error.html" title="trait std::error::Error">Error</a>&gt;&gt;</code></span></h4>
<div class='docblock'><p>Returns the resource content by the id defined in the spine</p>

<h1 id='errors-4' class='section-header'><a href='#errors-4'>Errors</a></h1>
<p>Returns an error if the id doesn&#39;t exists in the epub</p>
</div><h4 id='method.get_resource_str_by_path' class="method"><span id='get_resource_str_by_path.v' class='invisible'><code>fn <a href='#method.get_resource_str_by_path' class='fnname'>get_resource_str_by_path</a>(&amp;mut self, path: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="trait" href="https://doc.rust-lang.org/nightly/std/error/trait.Error.html" title="trait std::error::Error">Error</a>&gt;&gt;</code></span></h4>
<div class='docblock'><p>Returns the resource content by full path in the epub archive, as String</p>

<h1 id='errors-5' class='section-header'><a href='#errors-5'>Errors</a></h1>
<p>Returns an error if the path doesn&#39;t exists in the epub</p>
</div><h4 id='method.get_resource_str' class="method"><span id='get_resource_str.v' class='invisible'><code>fn <a href='#method.get_resource_str' class='fnname'>get_resource_str</a>(&amp;mut self, id: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="trait" href="https://doc.rust-lang.org/nightly/std/error/trait.Error.html" title="trait std::error::Error">Error</a>&gt;&gt;</code></span></h4>
<div class='docblock'><p>Returns the resource content by the id defined in the spine, as String</p>

<h1 id='errors-6' class='section-header'><a href='#errors-6'>Errors</a></h1>
<p>Returns an error if the id doesn&#39;t exists in the epub</p>
</div><h4 id='method.get_resource_mime' class="method"><span id='get_resource_mime.v' class='invisible'><code>fn <a href='#method.get_resource_mime' class='fnname'>get_resource_mime</a>(&amp;self, id: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="trait" href="https://doc.rust-lang.org/nightly/std/error/trait.Error.html" title="trait std::error::Error">Error</a>&gt;&gt;</code></span></h4>
<div class='docblock'><p>Returns the resource mime-type</p>

<h1 id='examples-4' class='section-header'><a href='#examples-4'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">mime</span> <span class="op">=</span> <span class="ident">doc</span>.<span class="ident">get_resource_mime</span>(<span class="string">&quot;portada.png&quot;</span>);
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="string">&quot;image/png&quot;</span>, <span class="ident">mime</span>.<span class="ident">unwrap</span>());</pre>

<h1 id='errors-7' class='section-header'><a href='#errors-7'>Errors</a></h1>
<p>Fails if the resource can&#39;t be found.</p>
</div><h4 id='method.get_resource_mime_by_path' class="method"><span id='get_resource_mime_by_path.v' class='invisible'><code>fn <a href='#method.get_resource_mime_by_path' class='fnname'>get_resource_mime_by_path</a>(&amp;self, path: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="trait" href="https://doc.rust-lang.org/nightly/std/error/trait.Error.html" title="trait std::error::Error">Error</a>&gt;&gt;</code></span></h4>
<div class='docblock'><p>Returns the resource mime searching by source full path</p>

<h1 id='examples-5' class='section-header'><a href='#examples-5'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">mime</span> <span class="op">=</span> <span class="ident">doc</span>.<span class="ident">get_resource_mime_by_path</span>(<span class="string">&quot;OEBPS/Images/portada.png&quot;</span>);
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="string">&quot;image/png&quot;</span>, <span class="ident">mime</span>.<span class="ident">unwrap</span>());</pre>

<h1 id='errors-8' class='section-header'><a href='#errors-8'>Errors</a></h1>
<p>Fails if the resource can&#39;t be found.</p>
</div><h4 id='method.get_current' class="method"><span id='get_current.v' class='invisible'><code>fn <a href='#method.get_current' class='fnname'>get_current</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html" title="struct collections::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="trait" href="https://doc.rust-lang.org/nightly/std/error/trait.Error.html" title="trait std::error::Error">Error</a>&gt;&gt;</code></span></h4>
<div class='docblock'><p>Returns the current chapter content</p>

<p>The current follows the epub spine order. You can modify the current
calling to <code>go_next</code>, <code>go_prev</code> or <code>set_current</code> methods.</p>

<h1 id='errors-9' class='section-header'><a href='#errors-9'>Errors</a></h1>
<p>This call shouldn&#39;t fail, but can return an error if the epub doc is
broken.</p>
</div><h4 id='method.get_current_str' class="method"><span id='get_current_str.v' class='invisible'><code>fn <a href='#method.get_current_str' class='fnname'>get_current_str</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="trait" href="https://doc.rust-lang.org/nightly/std/error/trait.Error.html" title="trait std::error::Error">Error</a>&gt;&gt;</code></span></h4>
<h4 id='method.get_current_with_epub_uris' class="method"><span id='get_current_with_epub_uris.v' class='invisible'><code>fn <a href='#method.get_current_with_epub_uris' class='fnname'>get_current_with_epub_uris</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html" title="struct collections::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="trait" href="https://doc.rust-lang.org/nightly/std/error/trait.Error.html" title="trait std::error::Error">Error</a>&gt;&gt;</code></span></h4>
<div class='docblock'><p>Returns the current chapter data, with resource uris renamed so they
have the epub:// prefix and all are relative to the root file</p>

<p>This method is useful to render the content with a html engine, because inside the epub
local paths are relatives, so you can provide that content, because the engine will look
for the relative path in the filesystem and that file isn&#39;t there. You should provide files
with epub:// using the get_resource_by_path</p>

<h1 id='examples-6' class='section-header'><a href='#examples-6'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">current</span> <span class="op">=</span> <span class="ident">doc</span>.<span class="ident">get_current_with_epub_uris</span>().<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="ident">text</span> <span class="op">=</span> <span class="ident">String</span>::<span class="ident">from_utf8</span>(<span class="ident">current</span>).<span class="ident">unwrap</span>();
<span class="macro">assert</span><span class="macro">!</span>(<span class="ident">text</span>.<span class="ident">contains</span>(<span class="string">&quot;epub://OEBPS/Images/portada.png&quot;</span>));
<span class="ident">doc</span>.<span class="ident">go_next</span>();
<span class="kw">let</span> <span class="ident">current</span> <span class="op">=</span> <span class="ident">doc</span>.<span class="ident">get_current_with_epub_uris</span>().<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="ident">text</span> <span class="op">=</span> <span class="ident">String</span>::<span class="ident">from_utf8</span>(<span class="ident">current</span>).<span class="ident">unwrap</span>();
<span class="macro">assert</span><span class="macro">!</span>(<span class="ident">text</span>.<span class="ident">contains</span>(<span class="string">&quot;epub://OEBPS/Styles/stylesheet.css&quot;</span>));
<span class="macro">assert</span><span class="macro">!</span>(<span class="ident">text</span>.<span class="ident">contains</span>(<span class="string">&quot;http://creativecommons.org/licenses/by-sa/3.0/&quot;</span>));</pre>
</div><h4 id='method.get_current_mime' class="method"><span id='get_current_mime.v' class='invisible'><code>fn <a href='#method.get_current_mime' class='fnname'>get_current_mime</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="trait" href="https://doc.rust-lang.org/nightly/std/error/trait.Error.html" title="trait std::error::Error">Error</a>&gt;&gt;</code></span></h4>
<div class='docblock'><p>Returns the current chapter mimetype</p>

<h1 id='examples-7' class='section-header'><a href='#examples-7'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">m</span> <span class="op">=</span> <span class="ident">doc</span>.<span class="ident">get_current_mime</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="string">&quot;application/xhtml+xml&quot;</span>, <span class="ident">m</span>.<span class="ident">unwrap</span>());</pre>
</div><h4 id='method.get_current_path' class="method"><span id='get_current_path.v' class='invisible'><code>fn <a href='#method.get_current_path' class='fnname'>get_current_path</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="trait" href="https://doc.rust-lang.org/nightly/std/error/trait.Error.html" title="trait std::error::Error">Error</a>&gt;&gt;</code></span></h4>
<div class='docblock'><p>Returns the current chapter full path</p>

<h1 id='examples-8' class='section-header'><a href='#examples-8'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">p</span> <span class="op">=</span> <span class="ident">doc</span>.<span class="ident">get_current_path</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="string">&quot;OEBPS/Text/titlepage.xhtml&quot;</span>, <span class="ident">p</span>.<span class="ident">unwrap</span>());</pre>
</div><h4 id='method.get_current_id' class="method"><span id='get_current_id.v' class='invisible'><code>fn <a href='#method.get_current_id' class='fnname'>get_current_id</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/collections/string/struct.String.html" title="struct collections::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="trait" href="https://doc.rust-lang.org/nightly/std/error/trait.Error.html" title="trait std::error::Error">Error</a>&gt;&gt;</code></span></h4>
<div class='docblock'><p>Returns the current chapter id</p>

<h1 id='examples-9' class='section-header'><a href='#examples-9'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">id</span> <span class="op">=</span> <span class="ident">doc</span>.<span class="ident">get_current_id</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="string">&quot;titlepage.xhtml&quot;</span>, <span class="ident">id</span>.<span class="ident">unwrap</span>());</pre>
</div><h4 id='method.go_next' class="method"><span id='go_next.v' class='invisible'><code>fn <a href='#method.go_next' class='fnname'>go_next</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">()</a>, <a class="struct" href="../../epub/doc/struct.DocError.html" title="struct epub::doc::DocError">DocError</a>&gt;</code></span></h4>
<div class='docblock'><p>Changes current to the next chapter</p>

<h1 id='examples-10' class='section-header'><a href='#examples-10'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="ident">doc</span>.<span class="ident">go_next</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="string">&quot;000.xhtml&quot;</span>, <span class="ident">doc</span>.<span class="ident">get_current_id</span>().<span class="ident">unwrap</span>());

<span class="kw">let</span> <span class="ident">len</span> <span class="op">=</span> <span class="ident">doc</span>.<span class="ident">spine</span>.<span class="ident">len</span>();
<span class="kw">for</span> <span class="ident">i</span> <span class="kw">in</span> <span class="number">1</span>..<span class="ident">len</span> {
    <span class="ident">doc</span>.<span class="ident">go_next</span>();
}
<span class="macro">assert</span><span class="macro">!</span>(<span class="ident">doc</span>.<span class="ident">go_next</span>().<span class="ident">is_err</span>());</pre>

<h1 id='errors-10' class='section-header'><a href='#errors-10'>Errors</a></h1>
<p>If the page is the last, will not change and an error will be returned</p>
</div><h4 id='method.go_prev' class="method"><span id='go_prev.v' class='invisible'><code>fn <a href='#method.go_prev' class='fnname'>go_prev</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">()</a>, <a class="struct" href="../../epub/doc/struct.DocError.html" title="struct epub::doc::DocError">DocError</a>&gt;</code></span></h4>
<div class='docblock'><p>Changes current to the prev chapter</p>

<h1 id='examples-11' class='section-header'><a href='#examples-11'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="macro">assert</span><span class="macro">!</span>(<span class="ident">doc</span>.<span class="ident">go_prev</span>().<span class="ident">is_err</span>());

<span class="ident">doc</span>.<span class="ident">go_next</span>(); <span class="comment">// 000.xhtml</span>
<span class="ident">doc</span>.<span class="ident">go_next</span>(); <span class="comment">// 001.xhtml</span>
<span class="ident">doc</span>.<span class="ident">go_next</span>(); <span class="comment">// 002.xhtml</span>
<span class="ident">doc</span>.<span class="ident">go_prev</span>(); <span class="comment">// 001.xhtml</span>
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="string">&quot;001.xhtml&quot;</span>, <span class="ident">doc</span>.<span class="ident">get_current_id</span>().<span class="ident">unwrap</span>());</pre>

<h1 id='errors-11' class='section-header'><a href='#errors-11'>Errors</a></h1>
<p>If the page is the first, will not change and an error will be returned</p>
</div><h4 id='method.get_num_pages' class="method"><span id='get_num_pages.v' class='invisible'><code>fn <a href='#method.get_num_pages' class='fnname'>get_num_pages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></code></span></h4>
<div class='docblock'><p>Returns the number of chapters</p>

<h1 id='examples-12' class='section-header'><a href='#examples-12'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="number">17</span>, <span class="ident">doc</span>.<span class="ident">get_num_pages</span>());</pre>
</div><h4 id='method.get_current_page' class="method"><span id='get_current_page.v' class='invisible'><code>fn <a href='#method.get_current_page' class='fnname'>get_current_page</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></code></span></h4>
<div class='docblock'><p>Returns the current chapter number, starting from 0</p>
</div><h4 id='method.set_current_page' class="method"><span id='set_current_page.v' class='invisible'><code>fn <a href='#method.set_current_page' class='fnname'>set_current_page</a>(&amp;mut self, n: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">()</a>, <a class="struct" href="../../epub/doc/struct.DocError.html" title="struct epub::doc::DocError">DocError</a>&gt;</code></span></h4>
<div class='docblock'><p>Changes the current page</p>

<h1 id='examples-13' class='section-header'><a href='#examples-13'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="number">0</span>, <span class="ident">doc</span>.<span class="ident">get_current_page</span>());
<span class="ident">doc</span>.<span class="ident">set_current_page</span>(<span class="number">2</span>);
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="string">&quot;001.xhtml&quot;</span>, <span class="ident">doc</span>.<span class="ident">get_current_id</span>().<span class="ident">unwrap</span>());
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="number">2</span>, <span class="ident">doc</span>.<span class="ident">get_current_page</span>());
<span class="macro">assert</span><span class="macro">!</span>(<span class="ident">doc</span>.<span class="ident">set_current_page</span>(<span class="number">50</span>).<span class="ident">is_err</span>());</pre>

<h1 id='errors-12' class='section-header'><a href='#errors-12'>Errors</a></h1>
<p>If the page isn&#39;t valid, will not change and an error will be returned</p>
</div><h4 id='method.add_extra_css' class="method"><span id='add_extra_css.v' class='invisible'><code>fn <a href='#method.add_extra_css' class='fnname'>add_extra_css</a>(&amp;mut self, css: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>)</code></span></h4>
<div class='docblock'><p>This will inject this css in every html page getted with the
get_current_with_epub_uris call</p>

<h1 id='examples-14' class='section-header'><a href='#examples-14'>Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">extracss</span> <span class="op">=</span> <span class="string">&quot;body { background-color: black; color: white }&quot;</span>;
<span class="ident">doc</span>.<span class="ident">add_extra_css</span>(<span class="ident">extracss</span>);
<span class="kw">let</span> <span class="ident">current</span> <span class="op">=</span> <span class="ident">doc</span>.<span class="ident">get_current_with_epub_uris</span>().<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="ident">text</span> <span class="op">=</span> <span class="ident">String</span>::<span class="ident">from_utf8</span>(<span class="ident">current</span>).<span class="ident">unwrap</span>();
<span class="macro">assert</span><span class="macro">!</span>(<span class="ident">text</span>.<span class="ident">contains</span>(<span class="ident">extracss</span>));</pre>
</div></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../../";
        window.currentCrate = "epub";
    </script>
    <script src="../../jquery.js"></script>
    <script src="../../main.js"></script>
    <script defer src="../../search-index.js"></script>
</body>
</html>